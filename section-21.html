<!DOCTYPE html>
<!--**************************************-->
<!--*    Generated from PreTeXt source   *-->
<!--*    on 2019-08-09T09:53:13-06:00    *-->
<!--*                                    *-->
<!--*      https://pretextbook.org       *-->
<!--*                                    *-->
<!--**************************************-->
<html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Eighth Motivating Example - Colorado Child Care</title>
<meta name="Keywords" content="Authored in PreTeXt">
<meta name="viewport" content="width=device-width,  initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [['\\(','\\)']]
    },
    asciimath2jax: {
        ignoreClass: ".*",
        processClass: "has_am"
    },
    jax: ["input/AsciiMath"],
    extensions: ["asciimath2jax.js"],
    TeX: {
        extensions: ["extpfeil.js", "autobold.js", "https://pretextbook.org/js/lib/mathjaxknowl.js", ],
        // scrolling to fragment identifiers is controlled by other Javascript
        positionToHash: false,
        equationNumbers: { autoNumber: "none", useLabelIds: true, },
        TagSide: "right",
        TagIndent: ".8em",
    },
    // HTML-CSS output Jax to be dropped for MathJax 3.0
    "HTML-CSS": {
        scale: 88,
        mtextFontInherit: true,
    },
    CommonHTML: {
        scale: 88,
        mtextFontInherit: true,
    },
});
</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_CHTML-full"></script><script src="https://pretextbook.org/js/lib/jquery.min.js"></script><script src="https://pretextbook.org/js/lib/jquery.sticky.js"></script><script src="https://pretextbook.org/js/lib/jquery.espy.min.js"></script><script src="https://pretextbook.org/js/0.11/pretext.js"></script><script src="https://pretextbook.org/js/0.11/pretext_add_on.js"></script><script src="https://pretextbook.org/js/lib/knowl.js"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,600,600italic" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Inconsolata:400,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.2/pretext.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.2/pretext_add_on.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.2/toc.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.2/colors_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.2/setcolors.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.2/features.css" rel="stylesheet" type="text/css">
<script>var logged_in = false;
var role = 'student';
var guest_access = true;
var login_required = false;
var js_version = 0.11;
</script>
</head>
<body class="mathbook-book has-toc has-sidebar-left">
<a class="assistive" href="#content">Skip to main content</a><div class="hidden-content" style="display:none">\(\newcommand{\doubler}[1]{2#1}
\newcommand{\lt}{&lt;}
\newcommand{\gt}{&gt;}
\newcommand{\amp}{&amp;}
\)</div>
<header id="masthead" class="smallbuttons"><div class="banner"><div class="container">
<a id="logo-link" href=""></a><div class="title-container">
<h1 class="heading"><a href="datascience.html"><span class="title">Data Science with Python</span></a></h1>
<p class="byline">Virgil U Pierce</p>
</div>
</div></div>
<nav id="primary-navbar" class="navbar"><div class="container">
<div class="navbar-top-buttons">
<button class="sidebar-left-toggle-button button active" aria-label="Show or hide table of contents sidebar">Contents</button><div class="tree-nav toolbar toolbar-divisor-3"><span class="threebuttons"><a id="previousbutton" class="previous-button toolbar-item button" href="section-20.html" title="Previous">Prev</a><a id="upbutton" class="up-button button toolbar-item" href="data_science_introduction.html" title="Up">Up</a><a id="nextbutton" class="next-button button toolbar-item" href="section-22.html" title="Next">Next</a></span></div>
</div>
<div class="navbar-bottom-buttons toolbar toolbar-divisor-4">
<button class="sidebar-left-toggle-button button toolbar-item active">Contents</button><a class="previous-button toolbar-item button" href="section-20.html" title="Previous">Prev</a><a class="up-button button toolbar-item" href="data_science_introduction.html" title="Up">Up</a><a class="next-button button toolbar-item" href="section-22.html" title="Next">Next</a>
</div>
</div></nav></header><div class="page">
<div id="sidebar-left" class="sidebar" role="navigation"><div class="sidebar-content">
<nav id="toc"><ul>
<li class="link"><a href="frontmatter-1.html" data-scroll="frontmatter-1"><span class="title">Front Matter</span></a></li>
<li class="link">
<a href="course_syllabus.html" data-scroll="course_syllabus"><span class="codenumber">1</span> <span class="title">Course Syllabus</span></a><ul>
<li><a href="section-1.html" data-scroll="section-1">Class and Instructor Details</a></li>
<li><a href="section-2.html" data-scroll="section-2">Course Description</a></li>
<li><a href="section-3.html" data-scroll="section-3">Textbook and Software</a></li>
<li><a href="section-4.html" data-scroll="section-4">Learning Objectives / Outcomes for the Course</a></li>
<li><a href="section-5.html" data-scroll="section-5">Communicating</a></li>
<li><a href="section-6.html" data-scroll="section-6">Course Outline</a></li>
<li><a href="section-7.html" data-scroll="section-7">Connections with Industrial Mathematics</a></li>
<li><a href="section-8.html" data-scroll="section-8">Assessments</a></li>
<li><a href="section-9.html" data-scroll="section-9">UNCO Policy Statements</a></li>
</ul>
</li>
<li class="link">
<a href="data_science_introduction.html" data-scroll="data_science_introduction"><span class="codenumber">2</span> <span class="title">Introduction to Data Science</span></a><ul>
<li><a href="section-10.html" data-scroll="section-10">Anaconda, Jupyter, and Python</a></li>
<li><a href="section-11.html" data-scroll="section-11">Github</a></li>
<li><a href="section-12.html" data-scroll="section-12">Python</a></li>
<li><a href="section-13.html" data-scroll="section-13">Some Prelimaries</a></li>
<li><a href="section-14.html" data-scroll="section-14">First Motivating Example - Baseball Players</a></li>
<li><a href="section-15.html" data-scroll="section-15">Second Motivating Example - Abalone Characteristics</a></li>
<li><a href="section-16.html" data-scroll="section-16">Third Motivating Example - US Income Levels</a></li>
<li><a href="section-17.html" data-scroll="section-17">Fourth Motivating Example - Mushroom Characteristics</a></li>
<li><a href="section-18.html" data-scroll="section-18">Fifth Motivating Example - House Prices</a></li>
<li><a href="section-19.html" data-scroll="section-19">Sixth Motivating Example - Running Data from Garmin</a></li>
<li><a href="section-20.html" data-scroll="section-20">Seventh Motivating Example - Berlin Airbnb Data</a></li>
<li><a href="section-21.html" data-scroll="section-21" class="active">Eighth Motivating Example - Colorado Child Care</a></li>
<li><a href="section-22.html" data-scroll="section-22">Ninth Motivating Example - Flight Delays at DEN</a></li>
<li><a href="section-23.html" data-scroll="section-23">Tenth Motivating Example - Image Classification</a></li>
<li><a href="section-24.html" data-scroll="section-24">Left for a future class - Unsupervised Learning</a></li>
</ul>
</li>
<li class="link">
<a href="data.html" data-scroll="data"><span class="codenumber">3</span> <span class="title">Data</span></a><ul>
<li><a href="section-25.html" data-scroll="section-25">What is Data</a></li>
<li><a href="section-26.html" data-scroll="section-26">Supervised versus Unsupervised Learning</a></li>
<li><a href="section-27.html" data-scroll="section-27">Where to get Data</a></li>
</ul>
</li>
</ul></nav><div class="extras"><nav><a class="mathbook-link" href="https://pretextbook.org">Authored in PreTeXt</a><a href="https://www.mathjax.org"><img title="Powered by MathJax" src="https://www.mathjax.org/badge/badge.gif" alt="Powered by MathJax"></a></nav></div>
</div></div>
<main class="main"><div id="content" class="pretext-content"><section class="section" id="section-21"><h2 class="heading hide-type">
<span class="type">Section</span> <span class="codenumber">2.12</span> <span class="title">Eighth Motivating Example - Colorado Child Care</span>
</h2>
<p id="p-266"><div style="width: 60%; margin-left: 20%; margin-right: 20%;"><img src="Images/child-care.jpeg" style="width: 100%; height: auto;" alt=""></div></p>
<figure class="figure-like" id="listing-55"><pre class="console"><b># Consider the following data set of licenses for child care business in Colorado 
#   (from https://data.colorado.gov/)

cocc = pa.read_csv('Data Sets/Colorado_Licensed_Child_Care_Facilities_Report.csv')

cocc.head()
</b>   PROVIDER ID                          PROVIDER NAME  \
0           48                          VIKKI MCKEOGH   
1           65                            JACKIE GRAY   
2          100  CHEROKEE TRAIL ELEMENTARY KIDS CENTER   
3          115              EARLY CHILDHOOD EDUCATION   
4          157                     CHERLLYNN SAUNDERS   

                PROVIDER SERVICE TYPE         STREET ADDRESS  \
0  Experienced Family Child Care Home       6635 E Monaco DR   
1              Family Child Care Home          4388 118 Ave.   
2        School-Age Child Care Center  17302 Clarke Farms DR   
3                   Preschool Program         1023 N 31st ST   
4                 Infant/Toddler Home         5989 W Fair DR   

               CITY STATE    ZIP     COUNTY            COMMUNITY  \
0          Brighton    CO  80602      Adams           West Adams   
1          Thornton    CO  80233      Adams           West Adams   
2            Parker    CO  80134    Douglas               Parker   
3  Colorado Springs    CO  80904    El Paso     Colorado Springs   
4         Littleton    CO  80123  Jefferson  Northeast Jefferson   

                                           ECC  ... CCCAP CASE COUNT_D1  \
0  Early Childhood Partnership of Adams County  ...                 NaN   
1  Early Childhood Partnership of Adams County  ...                 3.0   
2       Douglas County Early Childhood Council  ...                 3.0   
3                            Alliance for Kids  ...                 NaN   
4                Triad Early Childhood Council  ...                 NaN   

  CCCAP FA EXP DATE_D1 CCCAP TOTAL AUTH_D1 CCCAP FA STATUS_D1  \
0                  NaN                 NaN                NaN   
1           06/30/2019                 3.0                1.0   
2           06/30/2019                 5.0                1.0   
3                  NaN                 NaN                NaN   
4                  NaN                 NaN                NaN   

  CCCAP AMOUNT PAID_D1  CCCAP FA EXP DATE_D2  CCCAP TOTAL AUTH_D2  \
0                  NaN                   NaN                  NaN   
1               239.20            06/14/2019                  3.0   
2               974.61            05/31/2020                  5.0   
3                  NaN                   NaN                  NaN   
4                  NaN                   NaN                  NaN   

   CCCAP FA STATUS_D2 LICENSE FEE DISCOUNT                  LONG-LAT  
0                 NaN                  0.0  (39.919258, -104.911005)  
1                 1.0                  0.0      (39.9101, -104.9344)  
2                 1.0                  0.0  (39.525183, -104.786646)  
3                 NaN                  0.0   (38.86547, -104.867475)  
4                 NaN                  0.0  (39.604151, -105.063248)  

[5 rows x 27 columns]
</pre>
<figcaption><span class="type">Listing</span> <span class="codenumber">2.12.1.</span> </figcaption></figure><figure class="figure-like" id="listing-56"><pre class="console"><b>cocc = pa.read_csv('Data Sets/Colorado_Licensed_Child_Care_Facilities_Report.csv')
cocc = cocc.loc[:, ['COUNTY', 'CITY', 'PROVIDER SERVICE TYPE']]  # Keep only the columns we want here
cocc.loc[:, 'COUNT'] = 1   # Add a variable for counting unique values
cocc = cocc.groupby(['COUNTY', 'CITY', 'PROVIDER SERVICE TYPE']).sum()   
 # Sum the values after grouping by County, 
       # City, and Provider Type
    
cocc.head()
</b>                                                  COUNT
COUNTY CITY   PROVIDER SERVICE TYPE                    
Adams  Arvada Child Care Center                       2
       Aurora Child Care Center                      10
              Experienced Family Child Care Home      1
              Family Child Care Home                  2
              Preschool Program                       7
</pre>
<figcaption><span class="type">Listing</span> <span class="codenumber">2.12.2.</span> </figcaption></figure><p id="p-267">Worth pausing here and making sure we understand what we have done: We have created a new data frame whose rows are now the County, City, and Provider Type factors; and the single Column is the Count of the number of</p>
<p id="p-268">that Provider Type in the City.</p>
<figure class="figure-like" id="listing-57"><pre class="console"><b>temp = cocc.reset_index().loc[:, ['COUNTY', 'PROVIDER SERVICE TYPE', 'COUNT']]  

# Drop the city and go back to a full data frame.

temp = temp.groupby(['COUNTY', 'PROVIDER SERVICE TYPE']).sum()

# Redo the gather but now ignoring City

temp = temp.reset_index()

# Set it back to a full data frame.

temp = temp[temp['PROVIDER SERVICE TYPE']=='Preschool Program']

plt.figure(figsize = (10, 15))
sn.set(style='darkgrid')
sn.barplot(x='COUNT', y='COUNTY', data=temp)
plt.title('Preschool Programs');
</b></pre>
<div style="width: 100%; margin-left: 0%; margin-right: 0%;"><img src="Images/2.20.png" style="width: 100%; height: auto;" alt=""></div>
<figcaption><span class="type">Listing</span> <span class="codenumber">2.12.3.</span> </figcaption></figure><p id="p-269">Fine for someone from Colorado. But can we do better?</p>
<figure class="figure-like" id="listing-58"><pre class="console"><b>cocc = pa.read_csv('Data Sets/Colorado_Licensed_Child_Care_Facilities_Report.csv')
temp = cocc.loc[:, ['PROVIDER SERVICE TYPE', 'LONG-LAT'] ]

# pull up the longitude and lattitude coordinates
 
lon = [eval(temp.loc[c, 'LONG-LAT'])[0] for c in temp.index.values]
lat = [eval(temp.loc[c, 'LONG-LAT'])[1] for c in temp.index.values]
    
# Separate the longitude and lattide coordinates
# Some notes on the Python here:  the coordinates have been read in as a string, we can convert them to a 
# tuple with eval and then reference each with a position index.

locate = pa.DataFrame(np.array( [lon, lat]).transpose(), columns = ['Long', 'Lat'])
locate = pa.concat( [locate, temp], axis=1).drop('LONG-LAT', axis=1)
</b></pre>
<figcaption><span class="type">Listing</span> <span class="codenumber">2.12.4.</span> </figcaption></figure><figure class="figure-like" id="listing-59"><pre class="console"><b>sn.set(style='whitegrid')
sn.hls_palette(10)
sn.relplot(x='Lat', y='Long', hue='PROVIDER SERVICE TYPE', 
           data=locate, height=8, aspect=1.2, palette='bright');
plt.title('Location of Child Care Businesses');
</b></pre>
<div style="width: 100%; margin-left: 0%; margin-right: 0%;"><img src="Images/2.21.png" style="width: 100%; height: auto;" alt=""></div>
<figcaption><span class="type">Listing</span> <span class="codenumber">2.12.5.</span> </figcaption></figure><p id="p-270">A couple of notes of things we should learn how to do in the future:</p>
<ol id="p-271" class="decimal">
<li id="li-82"><p id="p-272">It would be nice to put these points on a map of Colorado; or to put points for the larger cities in the state.</p></li>
<li id="li-83"><p id="p-273">It would also be nice to change it to combine near by points and make a bigger point.</p></li>
</ol>
<article class="paragraphs" id="paragraphs-1"><h5 class="heading"><span class="title">What is a good question for this data set?</span></h5></article></section></div></main>
</div>
<div class="login-link"><span id="loginlogout" class="login">login</span></div>
<script src="https://pretextbook.org/js/0.11/login.js"></script>
</body>
</html>
